{
  "magic": "E!vIA5L86J2I",
  "timestamp": "2024-05-30T01:22:53.979036+00:00",
  "repo": "nidhijaju/draft-zstd-window-size",
  "labels": [
    {
      "name": "bug",
      "description": "Something isn't working",
      "color": "d73a4a"
    },
    {
      "name": "documentation",
      "description": "Improvements or additions to documentation",
      "color": "0075ca"
    },
    {
      "name": "duplicate",
      "description": "This issue or pull request already exists",
      "color": "cfd3d7"
    },
    {
      "name": "enhancement",
      "description": "New feature or request",
      "color": "a2eeef"
    },
    {
      "name": "good first issue",
      "description": "Good for newcomers",
      "color": "7057ff"
    },
    {
      "name": "help wanted",
      "description": "Extra attention is needed",
      "color": "008672"
    },
    {
      "name": "invalid",
      "description": "This doesn't seem right",
      "color": "e4e669"
    },
    {
      "name": "question",
      "description": "Further information is requested",
      "color": "d876e3"
    },
    {
      "name": "wontfix",
      "description": "This will not be worked on",
      "color": "ffffff"
    }
  ],
  "issues": [
    {
      "number": 1,
      "id": "I_kwDOLYk9Ys6BnUhZ",
      "title": "Window Size for `zstd-d`",
      "url": "https://github.com/nidhijaju/draft-zstd-window-size/issues/1",
      "state": "CLOSED",
      "author": "felixhandte",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "The Compression Dictionary Transport spec introduces a new encoding scheme `zstd-d`. We may want to clarify the window limits for that scheme as well (either in this draft or in the CDT draft).\r\n\r\nProbably the right answer is something like 8 MB or 2 * the dictionary size if one is in use, to allow delta-ing of larger resources.",
      "createdAt": "2024-03-07T19:03:05Z",
      "updatedAt": "2024-03-12T14:39:00Z",
      "closedAt": "2024-03-12T14:39:00Z",
      "comments": [
        {
          "author": "nidhijaju",
          "authorAssociation": "OWNER",
          "body": "That's a good point!\r\nI think in Chrome we ended up using [max(dictionary size, 8 MB)](https://source.chromium.org/chromium/chromium/src/+/main:net/filter/zstd_source_stream.cc;l=49-57;drc=f88f2c49794bb22673f9048f7ee0d0e8279582c7) if a dictionary is in use, or 8 MB otherwise.\r\n\r\nI think that should be added to the Compression Dictionary Transport spec, since it's not published yet and that's where the Content-Encoding token for `zstd-d` is being added. I just filed [an issue](https://github.com/httpwg/http-extensions/issues/2754) there.",
          "createdAt": "2024-03-08T02:33:18Z",
          "updatedAt": "2024-03-08T02:33:18Z"
        }
      ]
    },
    {
      "number": 2,
      "id": "I_kwDOLYk9Ys6B2zH1",
      "title": "Decoders supporting a different limit",
      "url": "https://github.com/nidhijaju/draft-zstd-window-size/issues/2",
      "state": "CLOSED",
      "author": "nidhijaju",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "Based on feedback from https://lists.w3.org/Archives/Public/ietf-http-wg/2024JanMar/0156.html and https://lists.w3.org/Archives/Public/ietf-http-wg/2024JanMar/0157.html, we don't need to have language to talk about decoders being able to support a different window size limit in, for example, private environments, since the draft is scoped to HTTP Content Encoding contexts.\r\n\r\nWe can remove the following paragraph:\r\n\r\n>    Decoders are free to support higher or lower limits, depending on\r\n   local limitations, if negotiated out-of-band.  Many deployments of\r\n   Zstandard operate in controlled, private environments and can\r\n   directly communicate with their encoder and decoder to negotiate a\r\n   higher or lower limit.",
      "createdAt": "2024-03-11T09:16:06Z",
      "updatedAt": "2024-03-14T08:28:42Z",
      "closedAt": "2024-03-14T08:28:42Z",
      "comments": []
    }
  ],
  "pulls": [
    {
      "number": 3,
      "id": "PR_kwDOLYk9Ys5pN3T8",
      "title": "Remove paragraph about decoders being able to support a different limit",
      "url": "https://github.com/nidhijaju/draft-zstd-window-size/pull/3",
      "state": "MERGED",
      "author": "nidhijaju",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "Closes https://github.com/nidhijaju/draft-zstd-window-size/issues/2.",
      "createdAt": "2024-03-11T09:20:02Z",
      "updatedAt": "2024-03-14T08:28:47Z",
      "baseRepository": "nidhijaju/draft-zstd-window-size",
      "baseRefName": "main",
      "baseRefOid": "dccbec4f3c8bd009ae3406ffccd592fc21ce57a8",
      "headRepository": "nidhijaju/draft-zstd-window-size",
      "headRefName": "remove-decoder-different-limit",
      "headRefOid": "b131178fd71bb0a4a70c95aa0628e7ec3ecfc0de",
      "closedAt": "2024-03-14T08:28:41Z",
      "mergedAt": "2024-03-14T08:28:41Z",
      "mergedBy": "nidhijaju",
      "mergeCommit": {
        "oid": "f7e2766a597cb5fee71902bcd85498f0a9d62f85"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOLYk9Ys5zHMnn",
          "commit": {
            "abbreviatedOid": "b131178"
          },
          "author": "felixhandte",
          "authorAssociation": "COLLABORATOR",
          "state": "APPROVED",
          "body": "This seems reasonable to me. My only concern is that RFC 8878 is *primarily* the most visible source of truth document for specifying the Zstandard wire format, and then there is one small section that registers that format as a content-encoding. I want to avoid a misinterpretation where this document appears to modify the guidance for *all* Zstandard streams. So I might suggest a little rewording in a different PR. But that certainly doesn't block this removal.",
          "createdAt": "2024-03-12T14:38:38Z",
          "updatedAt": "2024-03-12T14:38:38Z",
          "comments": []
        }
      ]
    },
    {
      "number": 4,
      "id": "PR_kwDOLYk9Ys5uSmKV",
      "title": "Refactor Language",
      "url": "https://github.com/nidhijaju/draft-zstd-window-size/pull/4",
      "state": "MERGED",
      "author": "felixhandte",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "I started making some minor rewordings and stuff, and then wanted to switch over uses of \"window size\" to \"Window_Size\" (which is the name that RFC8878 officially give to the parameter), and then it all snowballed into a large number of edits and a significant refactor of the document.\r\n\r\nLet me know what you think, and if you'd like me to pull this apart into individual changes.",
      "createdAt": "2024-05-01T21:40:20Z",
      "updatedAt": "2024-05-20T09:12:31Z",
      "baseRepository": "nidhijaju/draft-zstd-window-size",
      "baseRefName": "main",
      "baseRefOid": "f7e2766a597cb5fee71902bcd85498f0a9d62f85",
      "headRepository": "felixhandte/draft-zstd-window-size",
      "headRefName": "refactor-language",
      "headRefOid": "9d11ee847cf9a5164c39fdaa8a4b47f7df07f1c3",
      "closedAt": "2024-05-20T09:12:31Z",
      "mergedAt": "2024-05-20T09:12:31Z",
      "mergedBy": "nidhijaju",
      "mergeCommit": {
        "oid": "9adc9cde0e60fc72a50ac837261cbd0e48ec916b"
      },
      "comments": [],
      "reviews": [
        {
          "id": "PRR_kwDOLYk9Ys55t1Kj",
          "commit": {
            "abbreviatedOid": "e559a86"
          },
          "author": "nidhijaju",
          "authorAssociation": "OWNER",
          "state": "COMMENTED",
          "body": "Thanks for the updates! I made a couple of suggestions to merge in wording that had specific reasoning, but looks good overall.",
          "createdAt": "2024-05-07T04:51:18Z",
          "updatedAt": "2024-05-07T05:17:51Z",
          "comments": [
            {
              "originalPosition": 49,
              "body": "We should keep the above sentence with \"updates {{RFC8878}}\" since updating an RFC is an official process, whereas \"amends the specification\" doesn't have the same meaning.",
              "createdAt": "2024-05-07T04:54:17Z",
              "updatedAt": "2024-05-07T05:17:51Z"
            },
            {
              "originalPosition": 32,
              "body": "```suggestion\r\nDeployments of Zstandard use different Window_Size values\r\n({{!RFC8878, Section 3.1.1.1.2}}) to describe the maximum back-reference distance,\r\nwhich controls the amount of content that must be kept in memory during\r\ndecompression. Larger Window_Size values tend to improve the compression ratio,\r\n```\r\nProposed a diff that combines the two approaches with somewhat cleaner phrasing.\r\nPeople can probably guess at the meaning of \"matches\", but maybe \"back-references\" is better since it's also used in RFC8878?",
              "createdAt": "2024-05-07T05:07:50Z",
              "updatedAt": "2024-05-07T05:17:51Z"
            },
            {
              "originalPosition": 39,
              "body": "```suggestion\r\nlimit the maximum Window_Size they will handle. This\r\n```\r\nThis has caused some controversy in the WG in the past, so let's keep negotiation mechanisms out of scope here.",
              "createdAt": "2024-05-07T05:09:52Z",
              "updatedAt": "2024-05-07T05:17:51Z"
            },
            {
              "originalPosition": 41,
              "body": "```suggestion\r\nWindow_Size than the user agent allows, leading to decreased interoperability.\r\n```\r\nEnsuring interoperability is the reason we wrote this draft so let's keep that phrasing here.",
              "createdAt": "2024-05-07T05:11:17Z",
              "updatedAt": "2024-05-07T05:17:51Z"
            },
            {
              "originalPosition": 74,
              "body": "I think it helps to keep some variation of this text here for reading comprehension, especially since the intention of this document is to be the reference point for window size for zstd.",
              "createdAt": "2024-05-07T05:15:46Z",
              "updatedAt": "2024-05-07T05:17:51Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOLYk9Ys559Oaw",
          "commit": {
            "abbreviatedOid": "e559a86"
          },
          "author": "felixhandte",
          "authorAssociation": "COLLABORATOR",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-05-08T16:12:15Z",
          "updatedAt": "2024-05-11T15:51:23Z",
          "comments": [
            {
              "originalPosition": 32,
              "body": "The existing/proposed phrase\r\n\r\n> Deployments of Zstandard use different Window_Size values [...]\r\n\r\nis slightly inaccurate: the `Window_Size` is a property of a frame. Deployments/integrations of Zstandard may or may not constrain the `Window_Size`s they accept or produce, but that's a slightly different thing.\r\n\r\nMaybe that's too pedantic a distinction and we can be a little looser with the language. But in my PR here I've tried to handle that nuance by first describing the `Window_Size` property of frames in this paragraph and then in the next talking about how deployments interact with it. I can make that second paragraph clearer perhaps?",
              "createdAt": "2024-05-08T16:12:15Z",
              "updatedAt": "2024-05-11T15:51:23Z"
            },
            {
              "originalPosition": 39,
              "body": "Sounds good.",
              "createdAt": "2024-05-08T16:12:47Z",
              "updatedAt": "2024-05-11T15:51:23Z"
            },
            {
              "originalPosition": 41,
              "body": "Sounds good.",
              "createdAt": "2024-05-08T16:12:55Z",
              "updatedAt": "2024-05-11T15:51:23Z"
            },
            {
              "originalPosition": 49,
              "body": "Aha, ok. Will do.",
              "createdAt": "2024-05-08T16:13:14Z",
              "updatedAt": "2024-05-11T15:51:23Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOLYk9Ys57INm_",
          "commit": {
            "abbreviatedOid": "56ccd6f"
          },
          "author": "nidhijaju",
          "authorAssociation": "OWNER",
          "state": "COMMENTED",
          "body": "",
          "createdAt": "2024-05-20T09:10:05Z",
          "updatedAt": "2024-05-20T09:10:05Z",
          "comments": [
            {
              "originalPosition": 34,
              "body": "```suggestion\r\nduring decompression.\r\n\r\nThe minimum Window_Size is 1 KB. The maximum Window_Size is\r\n(1<<41) + 7*(1<<38) bytes, which is 3.75 TB. Larger Window_Size values tend\r\nto improve the compression ratio, but at the cost of increased memory usage.\r\n```\r\nEditorial nit: this just improves readability",
              "createdAt": "2024-05-20T09:10:05Z",
              "updatedAt": "2024-05-20T09:10:05Z"
            }
          ]
        },
        {
          "id": "PRR_kwDOLYk9Ys57IOaf",
          "commit": {
            "abbreviatedOid": "9d11ee8"
          },
          "author": "nidhijaju",
          "authorAssociation": "OWNER",
          "state": "APPROVED",
          "body": "Just merged an editorial nit, but otherwise looks good.",
          "createdAt": "2024-05-20T09:11:50Z",
          "updatedAt": "2024-05-20T09:11:50Z",
          "comments": []
        }
      ]
    },
    {
      "number": 5,
      "id": "PR_kwDOLYk9Ys5wRkrB",
      "title": "Lowercase content coding",
      "url": "https://github.com/nidhijaju/draft-zstd-window-size/pull/5",
      "state": "MERGED",
      "author": "nidhijaju",
      "authorAssociation": "OWNER",
      "assignees": [],
      "labels": [],
      "body": "@martinthomson: I'm wondering if I should also change the \"Content Encoding\" in the title and IANA considerations section name to \"Content Coding\"?",
      "createdAt": "2024-05-23T03:16:46Z",
      "updatedAt": "2024-05-23T03:31:06Z",
      "baseRepository": "nidhijaju/draft-zstd-window-size",
      "baseRefName": "main",
      "baseRefOid": "9adc9cde0e60fc72a50ac837261cbd0e48ec916b",
      "headRepository": "nidhijaju/draft-zstd-window-size",
      "headRefName": "replace-content-coding",
      "headRefOid": "d037f6a58cfa4a0abb1aad50339bba6bf8485e56",
      "closedAt": "2024-05-23T03:31:06Z",
      "mergedAt": "2024-05-23T03:31:06Z",
      "mergedBy": "nidhijaju",
      "mergeCommit": {
        "oid": "e3f7865a27bce30f3273441a9c10c9b62a6125d0"
      },
      "comments": [
        {
          "author": "nidhijaju",
          "authorAssociation": "OWNER",
          "body": "Makes sense, thank you!",
          "createdAt": "2024-05-23T03:31:01Z",
          "updatedAt": "2024-05-23T03:31:01Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOLYk9Ys57i617",
          "commit": {
            "abbreviatedOid": "d037f6a"
          },
          "author": "martinthomson",
          "authorAssociation": "NONE",
          "state": "APPROVED",
          "body": "\"Content Coding\" would be more correct for the title, but I my understanding is that most people think of this as \"Content Encoding\", for the eponymous header field name.  I'm happy to leave the title as-is.",
          "createdAt": "2024-05-23T03:28:37Z",
          "updatedAt": "2024-05-23T03:28:37Z",
          "comments": []
        }
      ]
    }
  ]
}